{"version":3,"sources":["components/forms/ProductUpdateForm.js","pages/admin/product/ProductUpdate.js"],"names":["Option","Select","ProductUpdateForm","handleChange","handleSubmit","values","handleSubsChange","subOptions","categories","showSub","setValues","arrSubsIds","setArrSubsIds","title","description","price","category","shipping","subs","quantity","colors","images","color","brands","brand","gst","section","sections","material","productid","design","materials","application","instruction","width","length","weight","property","repeatLength","rollLength","style","properties","serialNumber","photo","delivery","productId","warrantyMonths","onSubmit","className","type","name","value","onChange","min","max","multiple","console","log","map","c","_id","mode","placeholder","s","initialState","repeatlength","ProductUpdate","match","history","user","useSelector","state","useState","setSubOptions","setCategories","loading","setLoading","useEffect","loadProduct","loadCategories","getProduct","params","slug","then","res","data","getSubs","arr","push","prev","getCategories","AdminNav","FileUpload","e","preventDefault","updateProduct","token","toast","success","catch","err","error","response","target"],"mappings":"8OAEQA,EAAWC,IAAXD,OA6XOE,EA3XW,SAAC,GAWpB,IAVLC,EAUI,EAVJA,aACAC,EASI,EATJA,aACAC,EAQI,EARJA,OACAC,EAOI,EAPJA,iBACAC,EAMI,EANJA,WAGAC,GAGI,EALJC,QAKI,EAJJC,UAII,EAHJF,YACAG,EAEI,EAFJA,WACAC,EACI,EADJA,cAGEC,EAuCER,EAvCFQ,MACAC,EAsCET,EAtCFS,YACAC,EAqCEV,EArCFU,MAEAC,EAmCEX,EAnCFW,SAEAC,GAiCEZ,EAlCFa,KAkCEb,EAjCFY,UACAE,EAgCEd,EAhCFc,SAEAC,GA8BEf,EA/BFgB,OA+BEhB,EA9BFe,QAEAE,GA4BEjB,EA7BFkB,OA6BElB,EA5BFiB,OACAE,EA2BEnB,EA3BFmB,MAGAC,GAwBEpB,EA1BFqB,QA0BErB,EAzBFsB,SAyBEtB,EAxBFoB,KAGAG,GAqBEvB,EAvBFwB,UAuBExB,EArBFuB,UAGAE,GAkBEzB,EApBF0B,UAoBE1B,EAlBFyB,QACAE,EAiBE3B,EAjBF2B,YACAC,EAgBE5B,EAhBF4B,YACAC,EAeE7B,EAfF6B,MACAC,EAcE9B,EAdF8B,OACAC,EAaE/B,EAbF+B,OAGAC,GAUEhC,EAZFiC,aAYEjC,EAXFkC,WAWElC,EAVFgC,UAEAG,GAQEnC,EATFoC,WASEpC,EARFmC,OAIAE,GAIErC,EAPFsC,MAOEtC,EALFuC,SAKEvC,EAJFqC,cACAG,EAGExC,EAHFwC,UACAC,EAEEzC,EAFFyC,eAIF,OACE,uBAAMC,SAAU3C,EAAhB,UACE,sBAAK4C,UAAU,aAAf,UACE,0CACA,uBACEC,KAAK,OACLC,KAAK,QACLF,UAAU,eACVG,MAAOtC,EACPuC,SAAUjD,OAMd,sBAAK6C,UAAU,aAAf,UACE,gDAEA,uBACEC,KAAK,OACLC,KAAK,cACLF,UAAU,eACVG,MAAOrC,EACPsC,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,0CAEA,uBACEC,KAAK,OACLC,KAAK,QACLF,UAAU,eACVG,MAAO3B,EACP4B,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,+CACA,uBACEC,KAAK,OACLC,KAAK,YACLF,UAAU,eACVG,MAAON,EACPO,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,8CACA,uBACEC,KAAK,OACLC,KAAK,eACLF,UAAU,eACVG,MAAOT,EACPU,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,uDACA,uBACEC,KAAK,OACLC,KAAK,iBACLF,UAAU,eACVG,MAAOL,EACPM,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,6CAEA,uBACEC,KAAK,OACLC,KAAK,WACLF,UAAU,eACVG,MAAOvB,EACPwB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,6CAEA,uBACEC,KAAK,OACLC,KAAK,WACLF,UAAU,eACVG,MAAOd,EACPe,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,2CAEA,uBACEC,KAAK,OACLC,KAAK,SACLF,UAAU,eACVG,MAAOrB,EACPsB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,0CAEA,uBACEC,KAAK,OACLC,KAAK,QACLF,UAAU,eACVG,MAAOX,EACPY,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,gDAEA,uBACEC,KAAK,OACLC,KAAK,cACLF,UAAU,eACVG,MAAOnB,EACPoB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,gDAEA,uBACEC,KAAK,OACLC,KAAK,cACLF,UAAU,eACVG,MAAOlB,EACPmB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,kDAEA,uBACEC,KAAK,OACLC,KAAK,QACLF,UAAU,eACVG,MAAOjB,EACPkB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,mDAEA,uBACEC,KAAK,OACLC,KAAK,SACLF,UAAU,eACVG,MAAOhB,EACPiB,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,mDAEA,uBACEC,KAAK,OACLC,KAAK,SACLF,UAAU,eACVG,MAAOf,EACPgB,SAAUjD,OAyBd,sBAAK6C,UAAU,aAAf,UACE,0CAEA,uBACEC,KAAK,SACLC,KAAK,QACLF,UAAU,eACVG,MAAOpC,EACPqC,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,4CAEA,uBACEC,KAAK,SACLC,KAAK,MACLF,UAAU,eACVG,MAAO1B,EACP2B,SAAUjD,OAGd,sBAAK6C,UAAU,aAAf,UACE,6CACA,yBACEE,KAAK,WACLF,UAAU,eACVI,SAAUjD,EACVgD,MAAoB,QAAblC,EAAqB,MAAQ,KAJtC,UAME,wBAAQkC,MAAM,KAAd,gBACA,wBAAQA,MAAM,MAAd,uBAiBJ,sBAAKH,UAAU,aAAf,UACE,6CAEA,uBACEC,KAAK,SACLC,KAAK,WACLF,UAAU,eACVG,MAAOhC,EACPiC,SAAUjD,EACVkD,IAAI,IACJC,IAAI,SAGR,sBAAKN,UAAU,aAAf,UACE,0CACA,yBACAO,UAAQ,EACNJ,MAAO7B,EACP4B,KAAK,QACLF,UAAU,eACVI,SAAUjD,EALZ,UAMEqD,QAAQC,IAAIrC,GACXA,EAAOsC,KAAI,SAACC,GAAD,OACV,wBAAgBR,MAAOQ,EAAvB,SACGA,GADUA,YAqBnB,sBAAKX,UAAU,aAAf,UACE,6CACCxC,EAAW2B,OAAS,GACnB,wBACEe,KAAK,WACLF,UAAU,eACVI,SAAU9C,EACV6C,MAAOnC,EAAS4C,IAJlB,SAOGpD,EAAWkD,KAAI,SAACC,GAAD,OACd,wBAAQR,MAAOQ,EAAEC,IAAjB,SACGD,EAAET,MADsBS,EAAEC,aASnC,gCACE,mDACA,cAAC,IAAD,CACEC,KAAK,WACLrB,MAAO,CAAEN,MAAO,QAChB4B,YAAY,sBACZX,MAAOxC,EACPyC,SAAU,SAACD,GAAD,OAAWvC,EAAcuC,IALrC,SAOG5C,EAAW4B,OAAS,GACnB5B,EAAWmD,KAAI,SAACK,GAAD,OACb,cAAC/D,EAAD,CAAoBmD,MAAOY,EAAEH,IAA7B,SACGG,EAAEb,MADQa,EAAEH,aAQzB,uBACA,wBAAQZ,UAAU,uBAAlB,sBCvWAgB,EAAe,CACnBnD,MAAO,GACPC,YAAa,GACbC,MAAO,GACPP,WAAY,GACZQ,SAAU,GACVE,KAAM,GACND,SAAU,GACVE,SAAU,GACVE,OAAQ,GACRI,IAAI,GACJL,OAAQ,CACN,YACA,eACA,OACA,aACA,QACA,QACA,SACA,QACA,iBACA,OACA,aACA,QACA,YACA,YACA,aACA,YACA,QACA,iBACA,WACA,UACA,OACA,WACA,WACA,gBACA,WACA,WACA,YACA,YACA,cACA,iBACA,aACA,aACA,UACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,aACA,WACA,cACA,UACA,UACA,aACA,YACA,cACA,cACA,UACA,YACA,aACA,OACA,YACA,OACA,OACA,QACA,cACA,WACA,UACA,YACA,SACA,QACA,QACA,WACA,gBACA,YACA,eACA,YACA,aACA,YACA,uBACA,YACA,YACA,aACA,YACA,cACA,gBACA,eACA,iBACA,iBACA,iBACA,cACA,OACA,YACA,QACA,UACA,SACA,mBACA,aACA,eACA,eACA,iBACA,kBACA,oBACA,kBACA,kBACA,eACA,YACA,YACA,WACA,cACA,OACA,UACA,QACA,YACA,SACA,YACA,SACA,gBACA,YACA,gBACA,gBACA,aACA,YACA,OACA,OACA,OACA,aACA,SACA,gBACA,MACA,YACA,YACA,cACA,SACA,aACA,WACA,WACA,SACA,SACA,UACA,YACA,YACA,YACA,OACA,cACA,YACA,MACA,OACA,UACA,SACA,YACA,SACA,QACA,QACA,aACA,SACA,eAGFE,MAAO,GACPC,OAAQ,GACRK,SAAS,GACTS,SAAS,GACTP,OAAO,GACPU,MAAM,GACNR,YAAY,GACZC,YAAY,GACZC,MAAM,GACNC,OAAO,GACPC,OAAO,GACP6B,aAAa,GACb1B,WAAW,GACXG,aAAa,GACbG,UAAU,GACVC,eAAe,IA+GFoB,UA3GO,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACtBC,EAASC,aAAY,SAACC,GAAD,sBAAiBA,MAAtCF,KAER,EAA4BG,mBAASR,GAArC,mBAAO3D,EAAP,KAAeK,EAAf,KACA,EAAoC8D,mBAAS,IAA7C,mBAAOjE,EAAP,KAAmBkE,EAAnB,KACA,EAA8BD,oBAAS,GAAvC,mBACA,GADA,UACoCA,mBAAS,KAA7C,mBAAOhE,EAAP,KAAmBkE,EAAnB,KACA,EAAoCF,mBAAS,IAA7C,mBAAO7D,EAAP,KAAmBC,EAAnB,KACA,EAA8B4D,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRC,IACAC,MACC,IAEH,IAAMD,EAAc,WAClBE,YAAWb,EAAMc,OAAOC,MAAMC,MAAK,SAACC,GAClC1E,EAAU,2BAAKL,GAAW+E,EAAIC,OAE9BC,YAAQF,EAAIC,KAAKrE,SAAS4C,KAAKuB,MAAK,SAACpB,GACnCU,EAAcV,EAAEsB,SAIlB,IAAIE,EAAM,GACVH,EAAIC,KAAKnE,KAAKwC,KAAI,SAACK,GACjBwB,EAAIC,KAAKzB,EAAEH,QAEbJ,QAAQC,IAAI8B,GACZ3E,GAAc,SAAC6E,GAAD,OAAUF,SAItBR,EAAiB,WACrBW,cAAgBP,MAAK,SAACxB,GACpBe,EAAcf,EAAE0B,UAsCpB,OACE,qBAAKrC,UAAU,kBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,cAAC2C,EAAA,EAAD,MAEF,sBAAK3C,UAAU,YAAf,UACC2B,EAAU,cAAC,IAAD,CAAM3B,UAAU,SAAW,gDACpC,qBAAKA,UAAU,MAAf,SACE,cAAC4C,EAAA,EAAD,CACEvF,OAAQA,EACRK,UAAWA,EACXkE,WAAYA,MAIhB,cAAC,EAAD,CACExE,aAnDW,SAACyF,GACpBA,EAAEC,iBACFlB,GAAW,GAEXvE,EAAOa,KAAOP,EACdoF,YAAc5B,EAAMc,OAAOC,KAAM7E,EAAQgE,EAAK2B,OAC7Cb,MAAK,SAAAC,GACJR,GAAW,GACXqB,IAAMC,QAAN,UAAiBd,EAAIC,KAAKxE,MAA1B,0BACAuD,EAAQoB,KAAK,sBAGdW,OAAM,SAACC,GACNxB,GAAW,GACXpB,QAAQC,IAAI2C,GACZH,IAAMI,MAAMD,EAAIE,SAASjB,KAAKe,SAqCxBjG,aAhCW,SAAC0F,GACpBnF,EAAU,2BAAKL,GAAN,kBAAewF,EAAEU,OAAOrD,KAAO2C,EAAEU,OAAOpD,UAgCzC9C,OAAQA,EACRK,UAAWA,EACXJ,iBA/Be,SAACuF,GACxBA,EAAEC,iBACFpF,EAAU,2BAAKL,GAAN,IAAca,KAAM,GAAIF,SAAU6E,EAAEU,OAAOpD,SACpDmC,YAAQO,EAAEU,OAAOpD,OAAOgC,MAAK,SAACC,GAC5B5B,QAAQC,IAAI2B,EAAIC,MAChBZ,EAAcW,EAAIC,SAEpBzE,EAAc,KAyBNJ,WAAYA,EACZkE,cAAeA,EACfnE,WAAYA,EACZI,WAAYA,EACZC,cAAeA","file":"static/js/44.3b465589.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nconst ProductUpdateForm = ({\r\n  handleChange,\r\n  handleSubmit,\r\n  values,\r\n  handleSubsChange,\r\n  subOptions,\r\n  showSub,\r\n  setValues,\r\n  categories,\r\n  arrSubsIds,\r\n  setArrSubsIds\r\n}) => {\r\n  const{\r\n    title,\r\n    description,\r\n    price,\r\n   \r\n    category,\r\n    subs,\r\n    shipping,\r\n    quantity,\r\n    images,\r\n    colors,\r\n    brands,\r\n    color,\r\n    brand,\r\n    section,\r\n    sections,\r\n    gst,\r\n    productid,\r\n\r\n    material,\r\n    materials,\r\n\r\n    design,\r\n    application,\r\n    instruction,\r\n    width,\r\n    length,\r\n    weight,\r\n    repeatLength,\r\n    rollLength,\r\n    property,\r\n    properties,\r\n    style,\r\n    photo,\r\n\r\n    delivery,\r\n    serialNumber,\r\n    productId,\r\n    warrantyMonths\r\n    \r\n  } = values;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Title</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className=\"form-control\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      \r\n\r\n      <div className=\"form-group\">\r\n        <label>Description</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>brand</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"brand\"\r\n          className=\"form-control\"\r\n          value={brand}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Product ID</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"productId\"\r\n          className=\"form-control\"\r\n          value={productId}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>serial No</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"serialNumber\"\r\n          className=\"form-control\"\r\n          value={serialNumber}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>warranty in Months</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"warrantyMonths\"\r\n          className=\"form-control\"\r\n          value={warrantyMonths}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Material</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"material\"\r\n          className=\"form-control\"\r\n          value={material}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Property</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"property\"\r\n          className=\"form-control\"\r\n          value={property}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Design</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"design\"\r\n          className=\"form-control\"\r\n          value={design}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>style</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"style\"\r\n          className=\"form-control\"\r\n          value={style}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>application</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"application\"\r\n          className=\"form-control\"\r\n          value={application}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Instruction</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"instruction\"\r\n          className=\"form-control\"\r\n          value={instruction}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Width (in cm)</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"width\"\r\n          className=\"form-control\"\r\n          value={width}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Length (in cm)</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"length\"\r\n          className=\"form-control\"\r\n          value={length}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Weight (in gm)</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"weight\"\r\n          className=\"form-control\"\r\n          value={weight}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      {/* <div className=\"form-group\">\r\n        <label>Repeat Length (in inch)</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"repeatLength\"\r\n          className=\"form-control\"\r\n          value={repeatLength}\r\n          onChange={handleChange}\r\n        />\r\n      </div> */}\r\n      {/* <div className=\"form-group\">\r\n        <label>Roll Length (in cm)</label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"rollLength\"\r\n          className=\"form-control\"\r\n          value={rollLength}\r\n          onChange={handleChange}\r\n        />\r\n      </div> */}\r\n      <div className=\"form-group\">\r\n        <label>Price</label>\r\n\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          className=\"form-control\"\r\n          value={price}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>GST (%)</label>\r\n\r\n        <input\r\n          type=\"number\"\r\n          name=\"gst\"\r\n          className=\"form-control\"\r\n          value={gst}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Shipping</label>\r\n        <select\r\n          name=\"shipping\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={shipping === \"Yes\" ? \"Yes\" : \"No\"}\r\n        >\r\n          <option value=\"No\">No</option>\r\n          <option value=\"Yes\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* <div className=\"form-group\">\r\n        <label>Quantity</label>\r\n        <select\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={quantity === \"1\" ? 1 : 0}\r\n        >\r\n         <option value=\"1\">1</option>\r\n        </select>\r\n      </div> */}\r\n\r\n      \r\n      <div className=\"form-group\">\r\n        <label>Quantity</label>\r\n\r\n        <input\r\n          type=\"number\"\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n          onChange={handleChange}\r\n          min=\"1\" \r\n          max=\"1\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label>Color</label>\r\n        <select\r\n        multiple\r\n          value={color}\r\n          name=\"color\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >{console.log(colors)}\r\n          {colors.map((c) => (\r\n            <option key={c} value={c}>\r\n              {c}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      {/* <div className=\"form-group\">\r\n        <label>Brand</label>\r\n        <select\r\n          value={brand}\r\n          name=\"brand\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          {brands.map((b) => (\r\n            <option key={b} value={b}>\r\n              {b}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div> */}\r\n      <div className=\"form-group\">\r\n        <label>Category</label>\r\n        {categories.length > 0 && (\r\n          <select\r\n            name=\"category\"\r\n            className=\"form-control\"\r\n            onChange={handleSubsChange}\r\n            value={category._id}\r\n          >\r\n            \r\n            {categories.map((c) => (\r\n              <option value={c._id} key={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      \r\n        <div>\r\n          <label>Sub Categories</label>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"---Please Select---\"\r\n            value={arrSubsIds}\r\n            onChange={(value) => setArrSubsIds(value)}\r\n          >\r\n            {subOptions.length > 0 &&\r\n              subOptions.map((s) => (\r\n                <Option key={s._id} value={s._id}>\r\n                  {s.name}\r\n                </Option>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n      \r\n\r\n      <br />\r\n      <button className=\"btn btn-outline-info\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductUpdateForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  createProduct,\r\n  getProducts,\r\n  getProduct,\r\n  updateProduct\r\n} from \"../../../functions/product\";\r\nimport { getCategories, getSubs } from \"../../../functions/category\";\r\nimport { Spin } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\nimport FileUpload from \"../../../components/forms/FileUpload\";\r\nimport ProductUpdateForm from \"../../../components/forms/ProductUpdateForm\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  categories: [],\r\n  category: \"\",\r\n  subs: [],\r\n  shipping: \"\",\r\n  quantity: \"\",\r\n  images: [],\r\n  gst:\"\",\r\n  colors: [\r\n    \"AliceBlue\",\r\n    \"AntiqueWhite\",\r\n    \"Aqua\",\r\n    \"Aquamarine\",\r\n    \"Azure\",\r\n    \"Beige\",\r\n    \"Bisque\",\r\n    \"Black\",\r\n    \"BlanchedAlmond\",\r\n    \"Blue\",\r\n    \"BlueViolet\",\r\n    \"Brown\",\r\n    \"BurlyWood\",\r\n    \"CadetBlue\",\r\n    \"Chartreuse\",\r\n    \"Chocolate\",\r\n    \"Coral\",\r\n    \"CornflowerBlue\",\r\n    \"Cornsilk\",\r\n    \"Crimson\",\r\n    \"Cyan\",\r\n    \"DarkBlue\",\r\n    \"DarkCyan\",\r\n    \"DarkGoldenRod\",\r\n    \"DarkGray\",\r\n    \"DarkGrey\",\r\n    \"DarkGreen\",\r\n    \"DarkKhaki\",\r\n    \"DarkMagenta\",\r\n    \"DarkOliveGreen\",\r\n    \"DarkOrange\",\r\n    \"DarkOrchid\",\r\n    \"DarkRed\",\r\n    \"DarkSalmon\",\r\n    \"DarkSeaGreen\",\r\n    \"DarkSlateBlue\",\r\n    \"DarkSlateGray\",\r\n    \"DarkSlateGrey\",\r\n    \"DarkTurquoise\",\r\n    \"DarkViolet\",\r\n    \"DeepPink\",\r\n    \"DeepSkyBlue\",\r\n    \"DimGray\",\r\n    \"DimGrey\",\r\n    \"DodgerBlue\",\r\n    \"FireBrick\",\r\n    \"FloralWhite\",\r\n    \"ForestGreen\",\r\n    \"Fuchsia\",\r\n    \"Gainsboro\",\r\n    \"GhostWhite\",\r\n    \"Gold\",\r\n    \"GoldenRod\",\r\n    \"Gray\",\r\n    \"Grey\",\r\n    \"Green\",\r\n    \"GreenYellow\",\r\n    \"HoneyDew\",\r\n    \"HotPink\",\r\n    \"IndianRed\",\r\n    \"Indigo\",\r\n    \"Ivory\",\r\n    \"Khaki\",\r\n    \"Lavender\",\r\n    \"LavenderBlush\",\r\n    \"LawnGreen\",\r\n    \"LemonChiffon\",\r\n    \"LightBlue\",\r\n    \"LightCoral\",\r\n    \"LightCyan\",\r\n    \"LightGoldenRodYellow\",\r\n    \"LightGray\",\r\n    \"LightGrey\",\r\n    \"LightGreen\",\r\n    \"LightPink\",\r\n    \"LightSalmon\",\r\n    \"LightSeaGreen\",\r\n    \"LightSkyBlue\",\r\n    \"LightSlateGray\",\r\n    \"LightSlateGrey\",\r\n    \"LightSteelBlue\",\r\n    \"LightYellow\",\r\n    \"Lime\",\r\n    \"LimeGreen\",\r\n    \"Linen\",\r\n    \"Magenta\",\r\n    \"Maroon\",\r\n    \"MediumAquaMarine\",\r\n    \"MediumBlue\",\r\n    \"MediumOrchid\",\r\n    \"MediumPurple\",\r\n    \"MediumSeaGreen\",\r\n    \"MediumSlateBlue\",\r\n    \"MediumSpringGreen\",\r\n    \"MediumTurquoise\",\r\n    \"MediumVioletRed\",\r\n    \"MidnightBlue\",\r\n    \"MintCream\",\r\n    \"MistyRose\",\r\n    \"Moccasin\",\r\n    \"NavajoWhite\",\r\n    \"Navy\",\r\n    \"OldLace\",\r\n    \"Olive\",\r\n    \"OliveDrab\",\r\n    \"Orange\",\r\n    \"OrangeRed\",\r\n    \"Orchid\",\r\n    \"PaleGoldenRod\",\r\n    \"PaleGreen\",\r\n    \"PaleTurquoise\",\r\n    \"PaleVioletRed\",\r\n    \"PapayaWhip\",\r\n    \"PeachPuff\",\r\n    \"Peru\",\r\n    \"Pink\",\r\n    \"Plum\",\r\n    \"PowderBlue\",\r\n    \"Purple\",\r\n    \"RebeccaPurple\",\r\n    \"Red\",\r\n    \"RosyBrown\",\r\n    \"RoyalBlue\",\r\n    \"SaddleBrown\",\r\n    \"Salmon\",\r\n    \"SandyBrown\",\r\n    \"SeaGreen\",\r\n    \"SeaShell\",\r\n    \"Sienna\",\r\n    \"Silver\",\r\n    \"SkyBlue\",\r\n    \"SlateBlue\",\r\n    \"SlateGray\",\r\n    \"SlateGrey\",\r\n    \"Snow\",\r\n    \"SpringGreen\",\r\n    \"SteelBlue\",\r\n    \"Tan\",\r\n    \"Teal\",\r\n    \"Thistle\",\r\n    \"Tomato\",\r\n    \"Turquoise\",\r\n    \"Violet\",\r\n    \"Wheat\",\r\n    \"White\",\r\n    \"WhiteSmoke\",\r\n    \"Yellow\",\r\n    \"YellowGreen\",\r\n  ],\r\n  // brands: [\"Apple\", \"Microsoft\", \"Samsung\", \"Lenovo\", \"ASUS\"],\r\n  color: \"\",\r\n  brands: \"\",\r\n  material:\"\",\r\n  property:\"\",\r\n  design:\"\",\r\n  style:\"\",\r\n  application:\"\",\r\n  instruction:\"\",\r\n  width:\"\",\r\n  length:\"\",\r\n  weight:\"\",\r\n  repeatlength:\"\",\r\n  rollLength:\"\",\r\n  serialNumber:\"\",\r\n  productId:\"\",\r\n  warrantyMonths:\"\"\r\n\r\n};\r\n\r\nconst ProductUpdate = ({ match, history }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [values, setValues] = useState(initialState);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [showSub, setShowSub] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [arrSubsIds, setArrSubsIds] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadProduct();\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadProduct = () => {\r\n    getProduct(match.params.slug).then((res) => {\r\n      setValues({ ...values, ...res.data });\r\n      // prepoulation the subs by loading the single category subs\r\n      getSubs(res.data.category._id).then((s) => {\r\n        setSubOptions(s.data);\r\n      });\r\n\r\n      //default value loading for subs\r\n      let arr = [];\r\n      res.data.subs.map((s) => {\r\n        arr.push(s._id);\r\n      });\r\n      console.log(arr);\r\n      setArrSubsIds((prev) => arr);\r\n    });\r\n  };\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((c) => {\r\n      setCategories(c.data);\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    values.subs = arrSubsIds;\r\n    updateProduct(match.params.slug, values, user.token)\r\n    .then(res => {\r\n      setLoading(false)\r\n      toast.success(`${res.data.title} updated successfully`)\r\n      history.push(\"/admin/products\")\r\n      \r\n    })\r\n    .catch((err) => {\r\n      setLoading(false)\r\n      console.log(err)\r\n      toast.error(err.response.data.err);\r\n    })\r\n\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubsChange = (e) => {\r\n    e.preventDefault();\r\n    setValues({ ...values, subs: [], category: e.target.value });\r\n    getSubs(e.target.value).then((res) => {\r\n      console.log(res.data);\r\n      setSubOptions(res.data);\r\n    });\r\n    setArrSubsIds([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n        {loading ? <Spin className=\"mt-3\"/> : <h4>Product Update</h4>}\r\n          <div className=\"p-3\">\r\n            <FileUpload\r\n              values={values}\r\n              setValues={setValues}\r\n              setLoading={setLoading}\r\n            />\r\n          </div>\r\n\r\n          <ProductUpdateForm\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            values={values}\r\n            setValues={setValues}\r\n            handleSubsChange={handleSubsChange}\r\n            categories={categories}\r\n            setCategories={setCategories}\r\n            subOptions={subOptions}\r\n            arrSubsIds={arrSubsIds}\r\n            setArrSubsIds={setArrSubsIds}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductUpdate;"],"sourceRoot":""}