{"version":3,"sources":["pages/admin/product/ProductCreate.js"],"names":["initialState","title","description","price","categories","category","subs","shipping","quantity","images","gst","colors","color","brands","material","property","design","style","application","instruction","width","length","weight","repeatlength","rollLength","serialNumber","productId","warrantyMonths","ProductCreate","user","useSelector","state","useState","values","setValues","loading","setLoading","subOptions","setSubOptions","showSub","setShowSub","val","console","log","useEffect","loadCategories","getCategories","then","c","data","className","handleSubmit","e","preventDefault","createProduct","token","res","window","alert","catch","err","response","toast","error","handleChange","target","name","value","handleSubsChange","getSubs"],"mappings":"8OAeMA,EAAe,CACnBC,MAAO,GACPC,YAAa,GACbC,MAAO,GACPC,WAAY,GACZC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,SAAU,GACVC,OAAQ,GACRC,IAAK,GACLC,OAAQ,CACN,YACA,eACA,OACA,aACA,QACA,QACA,SACA,QACA,iBACA,OACA,aACA,QACA,YACA,YACA,aACA,YACA,QACA,iBACA,WACA,UACA,OACA,WACA,WACA,gBACA,WACA,WACA,YACA,YACA,cACA,iBACA,aACA,aACA,UACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,aACA,WACA,cACA,UACA,UACA,aACA,YACA,cACA,cACA,UACA,YACA,aACA,OACA,YACA,OACA,OACA,QACA,cACA,WACA,UACA,YACA,SACA,QACA,QACA,WACA,gBACA,YACA,eACA,YACA,aACA,YACA,uBACA,YACA,YACA,aACA,YACA,cACA,gBACA,eACA,iBACA,iBACA,iBACA,cACA,OACA,YACA,QACA,UACA,SACA,mBACA,aACA,eACA,eACA,iBACA,kBACA,oBACA,kBACA,kBACA,eACA,YACA,YACA,WACA,cACA,OACA,UACA,QACA,YACA,SACA,YACA,SACA,gBACA,YACA,gBACA,gBACA,aACA,YACA,OACA,OACA,OACA,aACA,SACA,gBACA,MACA,YACA,YACA,cACA,SACA,aACA,WACA,WACA,SACA,SACA,UACA,YACA,YACA,YACA,OACA,cACA,YACA,MACA,OACA,UACA,SACA,YACA,SACA,QACA,QACA,aACA,SACA,eAGFC,MAAO,GACPC,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,OAAQ,GACRC,MAAO,GACPC,YAAa,GACbC,YAAa,GACbC,MAAO,GACPC,OAAQ,GACRC,OAAQ,GACRC,aAAc,GACdC,WAAY,GACZC,aAAc,GACdC,UAAW,GACXC,eAAgB,IA2IHC,UAxIO,WACpB,IAAQC,EAASC,aAAY,SAACC,GAAD,sBAAiBA,MAAtCF,KAER,EAA4BG,mBAAShC,GAArC,mBAAOiC,EAAP,KAAeC,EAAf,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,IAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAA8BN,oBAAS,GAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KAIMC,EAAKR,EACXS,QAAQC,IAAIF,GAEZG,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAiB,WACrBC,cAAgBC,MAAK,SAACC,GAAD,OAAOd,EAAU,2BAAKD,GAAN,IAAc7B,WAAY4C,EAAEC,YAoBnEP,QAAQC,IAAIV,GAgEZ,OACE,qBAAKiB,UAAU,kBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,MAEF,sBAAKA,UAAU,YAAf,UACGf,EAAU,cAAC,IAAD,IAAW,gDACtB,uBAEA,qBAAKe,UAAU,MAAf,SACE,cAAC,IAAD,CACEjB,OAAQA,EACRC,UAAWA,EACXE,WAAYA,MAIhB,cAAC,IAAD,CACEe,aApGW,SAACC,GACpBA,EAAEC,iBACFjB,GAAW,GACXkB,YAAcb,EAAKZ,EAAK0B,OACrBR,MAAK,SAACS,GACLd,QAAQC,IAAIa,GACZpB,GAAW,GACXqB,OAAOC,MAAP,WAAiBF,EAAIP,KAAKhD,MAA1B,oBAGD0D,OAAM,SAACC,GACNlB,QAAQC,IAAIiB,EAAIC,UAChBzB,GAAW,GAEX0B,IAAMC,MAAMH,EAAIC,SAASZ,KAAKW,SAuF1BI,aAlFW,SAACZ,GACpBlB,EAAU,2BAAKD,GAAN,kBAAemB,EAAEa,OAAOC,KAAOd,EAAEa,OAAOE,UAkFzClC,OAAQA,EACRmC,iBAhFe,SAAChB,GACxBA,EAAEC,iBACFnB,EAAU,2BAAKD,GAAN,IAAc3B,KAAM,GAAID,SAAU+C,EAAEa,OAAOE,SACpDE,YAAQjB,EAAEa,OAAOE,OAAOpB,MAAK,SAACS,GAC5Bd,QAAQC,IAAIa,EAAIP,MAChBX,EAAckB,EAAIP,SAEpBT,GAAW,IA0EHH,WAAYA,EACZE,QAASA,EACTL,UAAWA","file":"static/js/43.1b1e1e79.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/nav/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createProduct, getProducts } from \"../../../functions/product\";\r\nimport { getCategories, getSubs } from \"../../../functions/category\";\r\nimport { Spin } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\r\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\r\nimport FileUpload from \"../../../components/forms/FileUpload\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  categories: [],\r\n  category: \"\",\r\n  subs: [],\r\n  shipping: \"\",\r\n  quantity: \"\",\r\n  images: [],\r\n  gst: \"\",\r\n  colors: [\r\n    \"AliceBlue\",\r\n    \"AntiqueWhite\",\r\n    \"Aqua\",\r\n    \"Aquamarine\",\r\n    \"Azure\",\r\n    \"Beige\",\r\n    \"Bisque\",\r\n    \"Black\",\r\n    \"BlanchedAlmond\",\r\n    \"Blue\",\r\n    \"BlueViolet\",\r\n    \"Brown\",\r\n    \"BurlyWood\",\r\n    \"CadetBlue\",\r\n    \"Chartreuse\",\r\n    \"Chocolate\",\r\n    \"Coral\",\r\n    \"CornflowerBlue\",\r\n    \"Cornsilk\",\r\n    \"Crimson\",\r\n    \"Cyan\",\r\n    \"DarkBlue\",\r\n    \"DarkCyan\",\r\n    \"DarkGoldenRod\",\r\n    \"DarkGray\",\r\n    \"DarkGrey\",\r\n    \"DarkGreen\",\r\n    \"DarkKhaki\",\r\n    \"DarkMagenta\",\r\n    \"DarkOliveGreen\",\r\n    \"DarkOrange\",\r\n    \"DarkOrchid\",\r\n    \"DarkRed\",\r\n    \"DarkSalmon\",\r\n    \"DarkSeaGreen\",\r\n    \"DarkSlateBlue\",\r\n    \"DarkSlateGray\",\r\n    \"DarkSlateGrey\",\r\n    \"DarkTurquoise\",\r\n    \"DarkViolet\",\r\n    \"DeepPink\",\r\n    \"DeepSkyBlue\",\r\n    \"DimGray\",\r\n    \"DimGrey\",\r\n    \"DodgerBlue\",\r\n    \"FireBrick\",\r\n    \"FloralWhite\",\r\n    \"ForestGreen\",\r\n    \"Fuchsia\",\r\n    \"Gainsboro\",\r\n    \"GhostWhite\",\r\n    \"Gold\",\r\n    \"GoldenRod\",\r\n    \"Gray\",\r\n    \"Grey\",\r\n    \"Green\",\r\n    \"GreenYellow\",\r\n    \"HoneyDew\",\r\n    \"HotPink\",\r\n    \"IndianRed\",\r\n    \"Indigo\",\r\n    \"Ivory\",\r\n    \"Khaki\",\r\n    \"Lavender\",\r\n    \"LavenderBlush\",\r\n    \"LawnGreen\",\r\n    \"LemonChiffon\",\r\n    \"LightBlue\",\r\n    \"LightCoral\",\r\n    \"LightCyan\",\r\n    \"LightGoldenRodYellow\",\r\n    \"LightGray\",\r\n    \"LightGrey\",\r\n    \"LightGreen\",\r\n    \"LightPink\",\r\n    \"LightSalmon\",\r\n    \"LightSeaGreen\",\r\n    \"LightSkyBlue\",\r\n    \"LightSlateGray\",\r\n    \"LightSlateGrey\",\r\n    \"LightSteelBlue\",\r\n    \"LightYellow\",\r\n    \"Lime\",\r\n    \"LimeGreen\",\r\n    \"Linen\",\r\n    \"Magenta\",\r\n    \"Maroon\",\r\n    \"MediumAquaMarine\",\r\n    \"MediumBlue\",\r\n    \"MediumOrchid\",\r\n    \"MediumPurple\",\r\n    \"MediumSeaGreen\",\r\n    \"MediumSlateBlue\",\r\n    \"MediumSpringGreen\",\r\n    \"MediumTurquoise\",\r\n    \"MediumVioletRed\",\r\n    \"MidnightBlue\",\r\n    \"MintCream\",\r\n    \"MistyRose\",\r\n    \"Moccasin\",\r\n    \"NavajoWhite\",\r\n    \"Navy\",\r\n    \"OldLace\",\r\n    \"Olive\",\r\n    \"OliveDrab\",\r\n    \"Orange\",\r\n    \"OrangeRed\",\r\n    \"Orchid\",\r\n    \"PaleGoldenRod\",\r\n    \"PaleGreen\",\r\n    \"PaleTurquoise\",\r\n    \"PaleVioletRed\",\r\n    \"PapayaWhip\",\r\n    \"PeachPuff\",\r\n    \"Peru\",\r\n    \"Pink\",\r\n    \"Plum\",\r\n    \"PowderBlue\",\r\n    \"Purple\",\r\n    \"RebeccaPurple\",\r\n    \"Red\",\r\n    \"RosyBrown\",\r\n    \"RoyalBlue\",\r\n    \"SaddleBrown\",\r\n    \"Salmon\",\r\n    \"SandyBrown\",\r\n    \"SeaGreen\",\r\n    \"SeaShell\",\r\n    \"Sienna\",\r\n    \"Silver\",\r\n    \"SkyBlue\",\r\n    \"SlateBlue\",\r\n    \"SlateGray\",\r\n    \"SlateGrey\",\r\n    \"Snow\",\r\n    \"SpringGreen\",\r\n    \"SteelBlue\",\r\n    \"Tan\",\r\n    \"Teal\",\r\n    \"Thistle\",\r\n    \"Tomato\",\r\n    \"Turquoise\",\r\n    \"Violet\",\r\n    \"Wheat\",\r\n    \"White\",\r\n    \"WhiteSmoke\",\r\n    \"Yellow\",\r\n    \"YellowGreen\",\r\n  ],\r\n  // brands: [\"Apple\", \"Microsoft\", \"Samsung\", \"Lenovo\", \"ASUS\"],\r\n  color: \"\",\r\n  brands: \"\",\r\n  material: \"\",\r\n  property: \"\",\r\n  design: \"\",\r\n  style: \"\",\r\n  application: \"\",\r\n  instruction: \"\",\r\n  width: \"\",\r\n  length: \"\",\r\n  weight: \"\",\r\n  repeatlength: \"\",\r\n  rollLength: \"\",\r\n  serialNumber: \"\",\r\n  productId: \"\",\r\n  warrantyMonths: \"\",\r\n};\r\n\r\nconst ProductCreate = () => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [values, setValues] = useState(initialState);\r\n  const [loading, setLoading] = useState(false);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [showSub, setShowSub] = useState(false);\r\n\r\n\r\n\r\n  const val= values\r\n  console.log(val);\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    createProduct(val, user.token)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setLoading(false);\r\n        window.alert(`\"${res.data.title}\" is created`);\r\n        // window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response);\r\n        setLoading(false);\r\n        // if(err.response.status === 400) toast.error(`${err.response.data}`)\r\n        toast.error(err.response.data.err);\r\n      });\r\n  };\r\n  console.log(values);\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubsChange = (e) => {\r\n    e.preventDefault();\r\n    setValues({ ...values, subs: [], category: e.target.value });\r\n    getSubs(e.target.value).then((res) => {\r\n      console.log(res.data);\r\n      setSubOptions(res.data);\r\n    });\r\n    setShowSub(true);\r\n  };\r\n\r\n  // var data = {\r\n  //   image:\r\n  //     \"https://ipfs.io/ipfs/QmbSjaM3gJVfG4BuyTsU5hpFhLD9n24Y7mjZvQVztRH1GX\",\r\n  //   description: \"Warranty nft\",\r\n  //   properties: [\r\n  //     {\r\n  //       type: \"productName\",\r\n  //       value: values.title,\r\n  //     },\r\n  //     {\r\n  //       type: \"productID\",\r\n  //       value: values.productId,\r\n  //     },\r\n  //     {\r\n  //       type: \"productSerialNo\",\r\n  //       value: values.serialNumber,\r\n  //     },\r\n  //     {\r\n  //       type: \"Warranty Expiry\",\r\n  //       value: values.warrantyMonths,\r\n  //     },\r\n  //   ],\r\n  // };\r\n\r\n  // const sendFileToIPFS = async (e) => {\r\n  //   try {\r\n  //     var config = {\r\n  //       method: \"post\",\r\n  //       url: \"https://api.pinata.cloud/pinning/pinJSONToIPFS\",\r\n  //       headers: {\r\n  //         \"Content-Type\": \"application/json\",\r\n  //         Authorization:\r\n  //           \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmMTdjODcyNS03OTAxLTQ5NTUtOGRkZi1hNzJlMzM5NzA3NzIiLCJlbWFpbCI6Imt1bWFybml0aXNoNzg3MDM4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI0MTE5ZGQ0ODNhZGIwYjI5MjQwNSIsInNjb3BlZEtleVNlY3JldCI6ImM3OGI4Y2Q4NmNiNTljZDQxMjFlMTdkMmU4MjVkY2FlNThlZDkyMmEzYzkzMDEyMTFkYjc5YjY0ZDQzZTFmNGUiLCJpYXQiOjE2NTg2OTcyNDN9.E0uFksg-A8W90gGFc3TjJnP7wJDEic-QkrEShDTlvkY\",\r\n  //       },\r\n  //       data: data,\r\n  //     };\r\n  //     const res = await axios(config);\r\n  //     setIpfsHash(res.data.IpfsHash);\r\n  //     values.NftUri = res.data.IpfsHash;\r\n  //     console.log(res.data);\r\n  //     console.log(\"slndvk ncznk\", values);\r\n  //     //Take a look at your Pinata Pinned section, you will see a new file added to you list.\r\n  //   } catch (error) {\r\n  //     console.log(\"Error sending File to IPFS: \");\r\n  //     console.log(error);\r\n  //   }\r\n  // };\r\n  // console.log(ipfsHash);\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col-md-10\">\r\n          {loading ? <Spin /> : <h4>Product Create</h4>}\r\n          <hr />\r\n\r\n          <div className=\"p-3\">\r\n            <FileUpload\r\n              values={values}\r\n              setValues={setValues}\r\n              setLoading={setLoading}\r\n            />\r\n          </div>\r\n\r\n          <ProductCreateForm\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            values={values}\r\n            handleSubsChange={handleSubsChange}\r\n            subOptions={subOptions}\r\n            showSub={showSub}\r\n            setValues={setValues}\r\n            \r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCreate;\r\n"],"sourceRoot":""}