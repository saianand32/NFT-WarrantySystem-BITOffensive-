(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[41],{1222:function(t,e,r){"use strict";r.r(e);var n=r(46),c=r(19),a=r(1),s=r(37),u=r(237),o=r(1228),i=r(1231),l=r(43),d=(r(1045),r(1140),r(2));e.default=function(t){var e=t.history,r=Object(s.c)((function(t){return Object(c.a)({},t)})),p=r.user,b=(r.pageState,r.shippingAdd,Object(s.b)()),j=Object(a.useState)([]),h=Object(n.a)(j,2),O=h[0],m=h[1],x=Object(a.useState)(0),f=Object(n.a)(x,2),g=f[0],v=f[1],N=Object(a.useState)(""),y=Object(n.a)(N,2),S=y[0],k=y[1],w=Object(a.useState)(!1),C=Object(n.a)(w,2),I=C[0],A=C[1],E=Object(a.useState)(""),P=Object(n.a)(E,2),T=P[0],D=P[1],L=Object(a.useState)(""),q=Object(n.a)(L,2),_=q[0],G=q[1],J=Object(a.useState)(""),H=Object(n.a)(J,2),M=H[0],R=H[1],Y=Object(a.useState)(""),F=Object(n.a)(Y,2),U=F[0],V=F[1],z=Object(a.useState)(""),B=Object(n.a)(z,2),K=B[0],Q=B[1],W=Object(a.useState)(""),X=Object(n.a)(W,2),Z=X[0],$=X[1],tt=Object(a.useState)(""),et=Object(n.a)(tt,2),rt=(et[0],et[1]),nt=Object(a.useState)(!1),ct=Object(n.a)(nt,2),at=ct[0],st=ct[1];Object(a.useEffect)((function(){Object(u.e)(p.token).then((function(t){console.log(t.data),m(t.data.products),v(t.data.cartTotal)}))}),[]);var ut={name:_,mobileNum:M,email:U,add:S,specialMessage:K},ot=function(){Object(u.b)({coupon:T},p.token).then((function(t){t.data.error&&(rt(t.data.error),l.b.error('"'.concat(T,'" is not Valid')),st(!1)),t.data.discount&&($(t.data.discount),l.b.success("A total of \u20b9 ".concat((g-t.data.discount).toLocaleString(),"  is applied on the coupon code ==> ").concat(T)),b({type:"COUPON_APPLIED",payload:!0}),st(!0))}))};return Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-md-6 p-5",children:[Object(d.jsx)("h4",{children:"Shipping Address"}),Object(d.jsx)("div",{className:"p-2 mt-2",children:Object(d.jsx)(o.a,{type:"text",className:"",value:_,onChange:function(t){return G(t.target.value)},placeholder:"Name",maxlength:"30",required:!0})}),Object(d.jsx)("div",{className:"p-2 mt-2",children:Object(d.jsx)(o.a,{type:"Number",className:"",value:M,onChange:function(t){return R(t.target.value)},placeholder:"Mobile Number",required:!0})}),Object(d.jsx)("div",{className:"p-2 mt-2 mb-2",children:Object(d.jsx)(o.a,{type:"email",className:"",onChange:function(t){return V(t.target.value)},placeholder:"Email Id",required:!0})}),Object(d.jsx)("hr",{}),Object(d.jsx)("h6",{children:"Special Instructions: "}),Object(d.jsx)("div",{className:"p-2 mt-2 mb-2",children:Object(d.jsx)(o.a,{type:"text",className:"",onChange:function(t){return Q(t.target.value)},placeholder:"Your special message if any",required:"true",maxlength:"50"})}),Object(d.jsx)("hr",{}),Object(d.jsx)("textarea",{cols:"90",required:!0,placeholder:"Enter Your Address",onChange:function(t){return k(t.target.value)}}),console.log(S),Object(d.jsx)("button",{className:"btn btn-secondary btn-raised mt-2 btn-block",onClick:function(){void 0!==typeof window&&localStorage.setItem("shippingAddress",JSON.stringify(ut)),b({type:"SHIPPING_ADDRESS",payload:ut}),A(!0),l.b.success("Address Saved Successully")},children:"Save Delivery Address"}),Object(d.jsx)("hr",{}),Object(d.jsx)("h4",{children:"Got Coupon?"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)(o.a,{type:"text",className:"",value:T,onChange:function(t){return D(t.target.value)},placeholder:"Enter Coupon code"}),Object(d.jsx)("button",{className:"btn btn-primary btn-raised mt-2",onClick:ot,children:"Apply Coupon"})]})})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)(i.a,{className:"m-3",children:Object(d.jsxs)("div",{className:"pt-4 pb-4 ",children:[Object(d.jsx)("h4",{children:"Order Summary"}),Object(d.jsxs)("p",{className:"text-primary h5 mb-5",children:[O.length," Products in the cart"]}),Object(d.jsx)("div",{className:"mb-5",children:Object(d.jsx)("ul",{className:"list-group",children:O.map((function(t,e){return Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("p",{className:"cart-details text-secondary",children:t.product.title}),Object(d.jsxs)("span",{className:"label label-default label-pill pull-xs-right cart-details",children:["\u20b9"," ",t.product.price-t.product.price*t.product.gst/100,"x ",t.count," = \u20b9"," ",((t.product.price-t.product.price*t.product.gst/100)*t.count).toLocaleString("en-IN"),Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:" +"}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{className:" product_total ",children:["GST (",t.product.gst,"%) : \u20b9",t.product.price*t.product.gst/100*t.count]}),Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{}),"Total = ",t.product.price*t.count]}),Object(d.jsx)("br",{})]},e)}))})}),Object(d.jsx)("hr",{}),at?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h5",{className:"text-right",children:[Object(d.jsx)("span",{className:"text-secondary",children:"Cart Total :"}),Object(d.jsx)("strong",{children:Object(d.jsxs)("del",{children:[" \u20b9 ",g.toLocaleString("en-IN")," "]})})]}),Object(d.jsxs)("h5",{className:"text-right",children:[Object(d.jsx)("span",{className:"text-secondary",children:"Discounted Cart Total :"}),Object(d.jsxs)("strong",{children:[" \u20b9 ",Z.toLocaleString("en-IN")]})]})]}):Object(d.jsxs)("h5",{className:"text-right",children:[Object(d.jsx)("span",{className:"text-secondary",children:"Cart Total :"}),Object(d.jsxs)("strong",{children:[" \u20b9 ",g.toLocaleString()," "]})]})]})}),Object(d.jsxs)("div",{className:"row mt-4",children:[Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)("button",{className:"btn btn-primary btn-raised btn-block ml-3",disabled:!I||!O.length,onClick:function(){e.push("/payment"),b({type:"SESSION",payload:!0})},children:"Place Order"})}),Object(d.jsx)("div",{className:"col-md-6 pr-4",children:Object(d.jsx)("button",{className:"btn btn-danger btn-raised btn-block ",onClick:function(){void 0!==typeof window&&localStorage.removeItem("cart"),b({type:"ADD_TO_CART",payload:[]}),Object(u.d)(p.token).then((function(t){console.log(t.data),l.b.success("Cart Empty ! let's Countinue SHOPPING!!!"),m([])})),setTimeout((function(){e.push("/shop")}),5e3)},children:"Empty Cart"})})]})]})]})}},237:function(t,e,r){"use strict";r.d(e,"i",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"d",(function(){return l})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return p})),r.d(e,"f",(function(){return b})),r.d(e,"a",(function(){return j})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return O}));var n=r(13),c=r.n(n),a=r(31),s=r(25),u=r.n(s),o=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat("http://52.24.2.108:8000/api","/user/cart"),{cart:e},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),i=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat("http://52.24.2.108:8000/api","/user/cart"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.delete("".concat("http://52.24.2.108:8000/api","/user/cart"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat("http://52.24.2.108:8000/api","/user/cart/coupon"),e,{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat("http://52.24.2.108:8000/api","/user/order"),{paymentIntent:e},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat("http://52.24.2.108:8000/api","/user/orders"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("".concat("http://52.24.2.108:8000/api","/user/wishlist"),{productId:e},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("".concat("http://52.24.2.108:8000/api","/user/wishlist"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.put("".concat("http://52.24.2.108:8000/api","/user/wishlist/").concat(r),{},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=41.dfd38bb3.chunk.js.map